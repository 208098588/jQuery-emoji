!function(a,b,c){function d(b,c){switch(this.$content=a(b),this.options=c,this.index=emoji_index,c.animation){case"none":this.showFunc="show",this.hideFunc="hide",this.toggleFunc="toggle";break;case"slide":this.showFunc="slideDown",this.hideFunc="slideUp",this.toggleFunc="slideToggle";break;case"fade":this.showFunc="fadeIn",this.hideFunc="fadeOut",this.toggleFunc="fadeToggle";break;default:this.showFunc="fadeIn",this.hideFunc="fadeOut",this.toggleFunc="fadeToggle"}this._init()}function e(b){return emoji_index++,this.each(function(){var c=a(this),e=c.data("plugin_"+f+emoji_index),h=a.extend({},g,c.data(),"object"==typeof b&&b);e||c.data("plugin_"+f+emoji_index,e=new d(this,h)),"string"==typeof b&&e[b]()})}var f="emoji",g={showTab:!0,animation:"fade",icons:[]};b.emoji_index=0,d.prototype={_init:function(){var b,d,e,f,g,h=this,i=this.options.button,j=h.index;i||(b='<input type="image" class="emoji_btn" id="emoji_btn_'+j+'" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHN0eWxlPSJ3aWR0aDozMDhweDtoZWlnaHQ6MzA4cHg7IiB2ZXJzaW9uPSIxLjEiIGlkPSLlm77lvaIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTAyNHB4IiBoZWlnaHQ9IjEwMjRweCIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAyNCAxMDI0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCiAgPHBhdGggY2xhc3M9InN2Z3BhdGgiIGRhdGEtaW5kZXg9InBhdGhfMCIgZmlsbD0iI2Y0YzYwMCIgZD0iTTUxMi41NTMgMTYuNTY3YzY3Ljk0NyAwIDEzMi4xMTkgMTMuMDM3IDE5Mi41MTcgMzkuMTEzIDYwLjM5OCAyNi4wNzYgMTEyLjg2NyA2MS40MDkgMTU3LjQxIDEwNi4wMDMgNDQuNTQzIDQ0LjU5MyA3OS44MzggOTcuMTIxIDEwNS44ODQgMTU3LjU4NyAyNi4wNDcgNjAuNDY1IDM5LjA3MCAxMjQuNzA4IDM5LjA3MCAxOTIuNzMyIDAgNjguNzc4LTEzLjAyMyAxMzMuMjEyLTM5LjA3MCAxOTMuMjk5LTI2LjA0NyA2MC4wODctNjEuMzQxIDExMi42MTUtMTA1Ljg4NCAxNTcuNTg3LTQ0LjU0MyA0NC45Ny05Ny4wMTQgODAuMzA1LTE1Ny40MSAxMDYuMDAzLTYwLjM5OCAyNS42OTctMTI0LjU3IDM4LjU0Ny0xOTIuNTE3IDM4LjU0Ny02OC43MDIgMC0xMzMuMDYzLTEyLjg0OS0xOTMuMDgzLTM4LjU0Ny02MC4wMjAtMjUuNjk3LTExMi40OS02MS4wMzEtMTU3LjQxLTEwNi4wMDMtNDQuOTIxLTQ0Ljk3LTgwLjQwNC05Ny41LTEwNi40NS0xNTcuNTg3LTI2LjA0Ny02MC4wODctMzkuMDcwLTEyNC41MTktMzkuMDcwLTE5My4yOTkgMC02OC4wMjMgMTMuMDIzLTEzMi4yNjYgMzkuMDcwLTE5Mi43MzIgMjYuMDQ3LTYwLjQ2NSA2MS41My0xMTIuOTkzIDEwNi40NS0xNTcuNTg3IDQ0LjkyMS00NC41OTMgOTcuMzktNzkuOTI3IDE1Ny40MS0xMDYuMDAzIDYwLjAyMC0yNi4wNzYgMTI0LjM4MS0zOS4xMTMgMTkzLjA4My0zOS4xMTN2MHpNNjkxLjQ4IDI2Mi41ODNjLTIxLjg5NCAwLTQwLjM5MSA5LjA2OS01NS40OSAyNy4yMDktMTUuMDk5IDE4LjE0LTIyLjY0OSA0MC4wNTgtMjIuNjQ5IDY1Ljc1NiAwIDI2LjQ1NCA3LjU0OSA0OC43NDkgMjIuNjQ5IDY2Ljg4OSAxNS4wOTkgMTguMTQgMzMuNTk2IDI3LjIwOSA1NS40OSAyNy4yMDkgMjEuODk0IDAgNDAuMzkxLTkuMDY5IDU1LjQ5LTI3LjIwOSAxNS4wOTktMTguMTQgMjIuNjQ5LTQwLjQzNiAyMi42NDktNjYuODg5IDAtMjUuNjk3LTcuNTQ5LTQ3LjYxNi0yMi42NDktNjUuNzU2LTE1LjA5OS0xOC4xNC0zMy41OTYtMjcuMjA5LTU1LjQ5LTI3LjIwOXYwek0zMjQuNTY2IDI2NC44NTFjLTIxLjEzOSAwLTM5LjA3MCA5LjA2OS01My43OTIgMjcuMjA5LTE0LjcyMiAxOC4xNC0yMi4wODMgNDAuMDU4LTIyLjA4MyA2NS43NTYgMCAyNi40NTQgNy4zNjEgNDguNTYxIDIyLjA4MyA2Ni4zMjMgMTQuNzIyIDE3Ljc2MSAzMi42NTMgMjYuNjQzIDUzLjc5MiAyNi42NDMgMjEuMTM5IDAgMzkuMjU5LTguODgxIDU0LjM1OC0yNi42NDMgMTUuMDk5LTE3Ljc2MSAyMi42NDktMzkuODY5IDIyLjY0OS02Ni4zMjMgMC0yNS42OTctNy41NDktNDcuNjE2LTIyLjY0OS02NS43NTYtMTUuMDk5LTE4LjE0LTMzLjIxOC0yNy4yMDktNTQuMzU4LTI3LjIwOXYwek01MTcuMDgzIDg4MC40NTdjNDAuMDEzIDAgNzcuOTUtNy4xOCAxMTMuODEyLTIxLjU0IDM1Ljg2MS0xNC4zNjEgNjguMTM2LTM0LjAxMiA5Ni44MjUtNTguOTUzIDI4LjY4OS0yNC45NDEgNTMuMDM2LTU0LjA0MSA3My4wNDMtODcuMjk2IDIwLjAwNy0zMy4yNTUgMzQuMTYyLTY4Ljc3OCA0Mi40NjctMTA2LjU2OXYtNS42NjhjMC02LjA0Ny0yLjI2NS0xMS41MjYtNi43OTUtMTYuNDM5LTQuNTMtNC45MTMtMTAuMTkyLTcuMzY5LTE2Ljk4Ny03LjM2OWgtNjA1Ljg2MWMtNi43OTUgMC0xMy4wMjMgMi40NTctMTguNjg1IDcuMzY5LTUuNjYyIDQuOTEzLTcuNzM4IDEwLjM5My02LjIyOCAxNi40MzkgMS41MSA3LjU1OCAyLjY0MyAxMi44NDkgMy4zOTcgMTUuODcyIDAuNzU1IDMuMDIzIDEuNTEgNS4yOSAyLjI2NSA2LjgwMyA5LjgxNCAzNi4yNzkgMjQuOTE0IDcwLjEwMiA0NS4yOTggMTAxLjQ2OCAyMC4zODQgMzEuMzY2IDQ0LjM1NCA1OC41NzUgNzEuOTEgODEuNjI4IDI3LjU1NiAyMy4wNTIgNTguNjk4IDQxLjE5MSA5My40MjcgNTQuNDE5IDM0LjcyOSAxMy4yMjYgNzIuMDk5IDE5Ljg0IDExMi4xMTIgMTkuODR2MHoiIC8+DQoNCjwvc3ZnPg0K"/>',d=this.$content.offset().top+this.$content.outerHeight()+10,e=this.$content.offset().left+2,a(b).appendTo(a("body")),a("#emoji_btn_"+j).css({top:d+"px",left:e+"px"}),i="#emoji_btn_"+j);var k=this.options.showTab,l=this.options.icons,m=l.length;if(0===m)return alert("Missing icons config!"),!1;for(var n,o,p,q,r,s,t,u,v,w,x,y='<div class="emoji_container" id="emoji_container_'+j+'">',z='<div class="emoji_content">',A='<div class="emoji_tab" style="'+(1!==m||k?"":"display:none;")+'"><div class="emoji_tab_prev"></div><div class="emoji_tab_list"><ul>',B=0;m>B;B++)if(o=l[B].name||"group"+(B+1),p=l[B].path,q=l[B].maxNum,r=l[B].excludeNums,s=l[B].file||".jpg",t=l[B].placeholder||"#em"+(B+1)+"_{alias}#",u=l[B].alias,v=l[B].title,w=0,p&&q){n='<div id="emoji'+B+'" class="emoji_icons" style="'+(0===B?"":"display:none;")+'"><ul>';for(var C=1;q>=C;C++)if(!(r&&r.indexOf(C)>=0)){if(u){if("object"!=typeof u){alert("Error config about alias!");break}x=t.replace(new RegExp("{alias}","gi"),u[C].toString())}else x=t.replace(new RegExp("{alias}","gi"),C.toString());n+='<li><a data-emoji_code="'+x+'" data-index="'+w+'" title="'+(v&&v[C]?v[C]:"")+'"><img src="'+p+C+s+'"/></a></li>',w++}n+="</ul></div>",z+=n,A+='<li data-emoji_tab="emoji'+B+'" class="'+(0===B?"selected":"")+'" title="'+o+'">'+o+"</li>"}else alert("The "+B+" index of icon groups has error config!");z+="</div>",A+='</ul></div><div class="emoji_tab_next"></div></div>';var D='<div class="emoji_preview"><img/></div>';y+=z,y+=A,y+=D,a(y).appendTo(a("body")),f=a(i).offset().top+a(i).outerHeight()+5,g=a(i).offset().left,a("#emoji_container_"+j).css({top:f+"px",left:g+"px"}),a("#emoji_container_"+j+" .emoji_content").mCustomScrollbar({theme:"minimal-dark",scrollbarPosition:"inside",mouseWheel:{scrollAmount:275}});var E=m%8===0?parseInt(m/8):parseInt(m/8)+1,F=1;a(c).on({click:function(b){var c,d,e,f,g=b.target,k=h.$content[0];g===a(i)[0]?(a("#emoji_container_"+j)[h.toggleFunc](),h.$content.focus()):a(g).parents("#emoji_container_"+j).length>0?(c=a(g).data("emoji_code")||a(g).parent().data("emoji_code"),d=a(g).data("emoji_tab"),c?("DIV"===k.nodeName?(e=a("#emoji_container_"+j+' a[data-emoji_code="'+c+'"] img').attr("src"),f='<img class="emoji_icon" src="'+e+'"/>',h._insertAtCursor(k,f,!1)):h._insertAtCursor(k,c),h.hide()):d?a(g).hasClass("selected")||(a("#emoji_container_"+j+" .emoji_icons").hide(),a("#emoji_container_"+j+" #"+d).show(),a(g).addClass("selected").siblings().removeClass("selected")):a(g).hasClass("emoji_tab_prev")?F>1&&(a("#emoji_container_"+j+" .emoji_tab_list ul").css("margin-left","-503"*(F-2)+"px"),F--):a(g).hasClass("emoji_tab_next")&&E>F&&(a("#emoji_container_"+j+" .emoji_tab_list ul").css("margin-left","-503"*F+"px"),F++),h.$content.focus()):a("#emoji_container_"+j+":visible").length>0&&(h.hide(),h.$content.focus())}}),a("#emoji_container_"+j+" .emoji_icons a").mouseenter(function(){var b=a(this).data("index");parseInt(b/5)%2===0?a("#emoji_container_"+j+" .emoji_preview").css({left:"auto",right:0}):a("#emoji_container_"+j+" .emoji_preview").css({left:0,right:"auto"});var c=a(this).find("img").attr("src");a("#emoji_container_"+j+" .emoji_preview img").attr("src",c).parent().show()}),a("#emoji_container_"+j+" .emoji_icons a").mouseleave(function(){a("#emoji_container_"+j+" .emoji_preview img").removeAttr("src").parent().hide()})},_insertAtCursor:function(a,d,e){var f,g;if("DIV"===a.nodeName){if(a.focus(),b.getSelection){if(f=b.getSelection(),f.getRangeAt&&f.rangeCount){g=f.getRangeAt(0),g.deleteContents();var h=c.createElement("div");h.innerHTML=d;for(var i,j,k=c.createDocumentFragment();i=h.firstChild;)j=k.appendChild(i);var l=k.firstChild;g.insertNode(k),j&&(g=g.cloneRange(),g.setStartAfter(j),e?g.setStartBefore(l):g.collapse(!0),f.removeAllRanges(),f.addRange(g))}}else if((f=c.selection)&&"Control"!==f.type){var m=f.createRange();m.collapse(!0),f.createRange().pasteHTML(html),e&&(g=f.createRange(),g.setEndPoint("StartToStart",m),g.select())}}else if(c.selection)a.focus(),f=c.selection.createRange(),f.text=d,f.select();else if(a.selectionStart||0===a.selectionStart){var n=a.selectionStart,o=a.selectionEnd,p=a.scrollTop;a.value=a.value.substring(0,n)+d+a.value.substring(o,a.value.length),p>0&&(a.scrollTop=p),a.focus(),a.selectionStart=n+d.length,a.selectionEnd=n+d.length}else a.value+=d,a.focus()},show:function(){a("#emoji_container_"+this.index)[this.showFunc]()},hide:function(){a("#emoji_container_"+this.index)[this.hideFunc]()},toggle:function(){a("#emoji_container_"+this.index)[this.toggleFunc]()}},a.fn[f]=e,a.fn[f].Constructor=d}(jQuery,window,document),function(a,b,c){function d(b,c){this.$content=a(b),this.options=c,this._init()}function e(b){return this.each(function(){var c=a(this),e=c.data("plugin_"+f),h=a.extend({},g,c.data(),"object"==typeof b&&b);e||c.data("plugin_"+f,e=new d(this,h)),"string"==typeof b&&e[b]()})}var f="emojiParse",g={icons:[]};d.prototype={_init:function(){var a,b,c,d,e,f,g=this,h=this.options.icons,i=h.length,j={};if(i>0)for(var k=0;i>k;k++)if(a=h[k].path,b=h[k].file||".jpg",c=h[k].placeholder,d=h[k].alias,a)if(d){for(var l in d)d.hasOwnProperty(l)&&(j[d[l]]=l);e=c.replace(new RegExp("{alias}","gi"),"([\\s\\S]+?)"),f=new RegExp(e,"gm"),g.$content.html(g.$content.html().replace(f,function(c,d){var e=j[d];return e?'<img class="emoji_icon" src="'+a+e+b+'"/>':c}))}else e=c.replace(new RegExp("{alias}","gi"),"(\\d+?)"),g.$content.html(g.$content.html().replace(new RegExp(e,"gm"),'<img class="emoji_icon" src="'+a+"$1"+b+'"/>'));else alert("Path not config!")}},a.fn[f]=e,a.fn[f].Constructor=d}(jQuery,window,document);